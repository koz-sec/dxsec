(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{340:function(s,a,e){s.exports=e.p+"assets/img/VUE-DEV.7a5b2c52.gif"},341:function(s,a,e){s.exports=e.p+"assets/img/01_001.f7a0350d.png"},403:function(s,a,e){"use strict";e.r(a);var t=e(14),v=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("Publish: 2023/10/9"),a("br"),s._v("\nLast update: 2023/10/9")]),s._v(" "),a("h1",{attrs:{id:"vuepress-01-環境構築"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-01-環境構築"}},[s._v("#")]),s._v(" VuePress - 01: 環境構築")]),s._v(" "),a("h2",{attrs:{id:"はじめに"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#はじめに"}},[s._v("#")]),s._v(" はじめに")]),s._v(" "),a("p",[s._v("個人的な活動をする機会が増えてくる中で「あ、私もブログをやってみたいなあ」と思いました。")]),s._v(" "),a("p",[s._v("もともとHTMLが得意だったこともあって、ある程度オリジナリティを出したいという思いもあります。"),a("br"),s._v("\nでも、飽き性なのでデザインや更新作業に手間をかけたくない気持ちの方が大きかったです。")]),s._v(" "),a("p",[s._v("色々調べる中で出会った「VuePress」が私のイメージに近かったので、これを使ったら手間をかけずに作ることができて、それなりにカスタマイズもできそうです。")]),s._v(" "),a("p",[s._v("＼ようし、こいつを試してみしょう／")]),s._v(" "),a("p",[s._v("ということで、このウェブサイトは、VuePressで作ってみることにしました。")]),s._v(" "),a("h2",{attrs:{id:"vuepressとは"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepressとは"}},[s._v("#")]),s._v(" VuePressとは")]),s._v(" "),a("p",[s._v("VuePressは、一言で伝えると静的ページを作成するツールです。")]),s._v(" "),a("ul",[a("li",[s._v("静的コンテンツ")])]),s._v(" "),a("blockquote",[a("p",[s._v("誰がアクセスしても同じコンテンツを提供するものを静的コンテンツと呼びます。")])]),s._v(" "),a("ul",[a("li",[s._v("動的コンテンツ")])]),s._v(" "),a("blockquote",[a("p",[s._v("アクセスする人によってコンテンツが変わるものを動的コンテンツと呼びます。")])]),s._v(" "),a("p",[s._v("VuePressは、Markdown形式で書かれた文書をもとに、軽量なウェブサイト（HTMLファイル）を自動で作ってくれるツールです。デザイン性もなかなかだし、ちょっと設定すれば記事を検索する機能も有効化できます。")]),s._v(" "),a("p",[a("strong",[s._v("ふむふむ、こいつは使えそうだ。")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[a("u",[s._v("VuePress の Good Point")])]),s._v(" "),a("ul",[a("li",[s._v("サイトが軽い")]),s._v(" "),a("li",[s._v("デザイン性が高い（カスタマイズもできる）")]),s._v(" "),a("li",[s._v("管理の負担が少ない")]),s._v(" "),a("li",[s._v("検索できる")])])]),s._v(" "),a("h2",{attrs:{id:"導入〜公開までの流れ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#導入〜公開までの流れ"}},[s._v("#")]),s._v(" 導入〜公開までの流れ")]),s._v(" "),a("p",[s._v("これから説明する内容はMacPCユーザ向けの内容です。")]),s._v(" "),a("p",[s._v("大まかには以下のような流れで実装＆公開を行います。")]),s._v(" "),a("p",[a("u",[s._v(" 1. 環境の整備")])]),s._v(" "),a("ul",[a("li",[s._v("Nodebrewインストール")]),s._v(" "),a("li",[s._v("Npmインストール")]),s._v(" "),a("li",[s._v("yarnインストール")]),s._v(" "),a("li",[s._v("VuePressインストール")])]),s._v(" "),a("p",[a("u",[s._v("2. コンテンツ作成")])]),s._v(" "),a("ul",[a("li",[s._v("README.mdを作成する")])]),s._v(" "),a("p",[a("u",[s._v("3. 動作確認")])]),s._v(" "),a("ul",[a("li",[s._v("buildして開発環境で起動する")])]),s._v(" "),a("p",[a("u",[s._v("4. GitHub Pagesでの公開")])]),s._v(" "),a("ul",[a("li",[s._v("githubの登録を行う")]),s._v(" "),a("li",[s._v("repositoryを作成する")]),s._v(" "),a("li",[s._v("vuepressをgithub用にカスタマイズする")]),s._v(" "),a("li",[s._v("githubに作成したページをuploadする")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("GitHub Pagesって?")]),s._v(" "),a("p",[s._v("GitHub pagesは、HTMLファイルを置くだけでウェブサイトとして公開できるサービスです。無料かつ広告なしで使えるので、一般的なレンタルウェブサーバよりお得です。")]),s._v(" "),a("p",[s._v("GitHub信者に怒られるかもしれませんが、便利なウェブサーバとして扱っちゃいましょう。")])]),s._v(" "),a("h2",{attrs:{id:"_1-環境の整備"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-環境の整備"}},[s._v("#")]),s._v(" 1. 環境の整備")]),s._v(" "),a("h3",{attrs:{id:"_1-1-nodebrewインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-nodebrewインストール"}},[s._v("#")]),s._v(" 1-1. Nodebrewインストール")]),s._v(" "),a("ul",[a("li",[s._v("VuePress環境の構築には、npm/nodebrew/yarn/vuepressの4つが必要なようです。")]),s._v(" "),a("li",[s._v("まずはnodebrewを入れましょう")])]),s._v(" "),a("div",{staticClass:"language-bash:# extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("brew install nodebrew\n")])])]),a("ul",[a("li",[s._v("Nodebrew、入りました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nodebrew -v\nnodebrew 1.2.0\n")])])]),a("ul",[a("li",[s._v("パスを通しておきます。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo 'export PATH=$HOME/.nodebrew/current/bin:$PATH' >> ~/.zshrc\n")])])]),a("h3",{attrs:{id:"_1-2-npmインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-npmインストール"}},[s._v("#")]),s._v(" 1-2. Npmインストール")]),s._v(" "),a("ul",[a("li",[s._v("次にnpmを導入")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nodebrew install npm\n")])])]),a("ul",[a("li",[s._v("Npm、入りました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm -v\n10.1.0\n")])])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("npmとは？")]),s._v(" "),a("p",[s._v("npmは、Node.jsのパッケージを管理する仕組みです。"),a("br"),s._v("\nモジュール間の依存性や競合を回避する動きをします。")])]),s._v(" "),a("ul",[a("li",[s._v("Npmを導入すると、package.jsonが生成されます。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ls\npackeage.json\n")])])]),a("h3",{attrs:{id:"_1-3-yarnインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-yarnインストール"}},[s._v("#")]),s._v(" 1-3. Yarnインストール")]),s._v(" "),a("ul",[a("li",[s._v("yarnをインストールします。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -g yarn\n")])])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("Yarnとは")]),s._v(" "),a("p",[s._v("npmの上位互換なのだとか。"),a("br"),s._v("\nだったらnpmじゃなくてyarnだけあれば良くない？よくわかっていないから今度調べよう")])]),s._v(" "),a("ul",[a("li",[s._v("yarn、入りました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn -v\n1.22.19\n")])])]),a("h3",{attrs:{id:"_1-4-vuepressインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-vuepressインストール"}},[s._v("#")]),s._v(" 1-4. VuePressインストール")]),s._v(" "),a("ul",[a("li",[s._v("作業フォルダを作って、そこでnpmを起動します。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir vuepress\ncd vuepress\nnpm init -y\n")])])]),a("ul",[a("li",[s._v("ついに、vuepressインストール")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -D vuepress\n")])])]),a("h2",{attrs:{id:"_2-コンテンツ作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-コンテンツ作成"}},[s._v("#")]),s._v(" 2. コンテンツ作成")]),s._v(" "),a("h3",{attrs:{id:"_2-1-package-json編集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-package-json編集"}},[s._v("#")]),s._v(" 2-1. package.json編集")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("vi package.json")]),s._v(" でファイルを編集しましょう。"),a("br"),s._v("\n開いた後、scriptsのセクションを以下のように変更します。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"scripts": {\n    "dev": "vuepress dev docs",\n    "build": "vuepress build dist"\n  },\n')])])]),a("p",[s._v("ここでは2つのコマンド処理を定義しています。")]),s._v(" "),a("ul",[a("li",[s._v("dev:\n"),a("ul",[a("li",[s._v("docsフォルダをVuePressの開発モードで実行する、という処理です。")])])]),s._v(" "),a("li",[s._v("build:\n"),a("ul",[a("li",[s._v(".mdファイルからVuePressのHTMLファイルを生成し、distフォルダに保存するという処理です。")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-readme-md編集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-readme-md編集"}},[s._v("#")]),s._v(" 2-2. README.md編集")]),s._v(" "),a("ul",[a("li",[s._v("まずは、ドキュメントを配置するdocsフォルダを作りましょう。")]),s._v(" "),a("li",[s._v("次に、docsフォルダ内に "),a("a",{attrs:{href:"http://README.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("README.md"),a("OutboundLink")],1),s._v(" を作成しましょう。このファイルに書いた内容がトップページ（index.html）になります。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir docs\necho '# Hello VuePress' > docs/README.md\n")])])]),a("ul",[a("li",[s._v("早速、build処理（.mdファイルから.htmlを作る処理） を実行しましょう。Markdown形式のファイルは先ほどのREADME.mdしかありませんが、それがHTMLになるはずです。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn build\n")])])]),a("h3",{attrs:{id:"_2-ex1-エラー対応"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ex1-エラー対応"}},[s._v("#")]),s._v(" 2-ex1. エラー対応")]),s._v(" "),a("ul",[a("li",[s._v("私の環境ではエラーが出ました。")]),s._v(" "),a("li",[s._v("どうやら、SSLのバージョンがサポートされていないようです。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" {\n  opensslErrorStack: [ 'error:03000086:digital envelope routines::initialization error' ],\n  library: 'digital envelope routines',\n  reason: 'unsupported',\n  code: 'ERR_OSSL_EVP_UNSUPPORTED'\n}\n\nNode.js v20.7.0\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n")])])]),a("ul",[a("li",[s._v("WEBでエラーを検索すると、node.jsのバージョンが良くないらしい。")]),s._v(" "),a("li",[s._v("ならば、古いバージョンnvmをインストールします。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nvm install 16.20.2\n")])])]),a("ul",[a("li",[s._v("パスを通します。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  source ~/.zshrc\n")])])]),a("ul",[a("li",[s._v("バージョン確認でパスが通ったことを確認します。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nvm -v\n0.39.3\n")])])]),a("ul",[a("li",[s._v("古いバージョンを使用することを指定します。")]),s._v(" "),a("li",[s._v("これはTerminal起動するたびに設定しないといけないみたいです。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nvm use 16\nNow using node v16.20.2 (npm v8.19.4)\n")])])]),a("ul",[a("li",[s._v("安定バージョンをインストールします。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nvm install --lts --latest-npm\n")])])]),a("ul",[a("li",[s._v("nodeが安定バージョンになりました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("node -v\nv18.18.0\n")])])]),a("ul",[a("li",[s._v("packeage.jsonのあるフォルダでbuildを実行すると、処理が成功しました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn build\nyarn run v1.22.19\n$ vuepress build dist\n\n WAIT  Extracting site metadata...\n[23:13:49] Compiling Client\n[23:13:49] Compiling Server\n[23:13:53] Compiled Server in 4s\n[23:13:54] Compiled Client in 5s\n WAIT  Rendering static HTML...\n\n DONE  Success! Generated static files in docs/.vuepress/dist.\n")])])]),a("ul",[a("li",[a("code",[s._v("/docs/.vuepress/dist")]),s._v("フォルダが生成され、その中に HTML/CSS/JavaScript 等のファイルが生成されました。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd docs/.vuepress/dist\nls\nabout.html\tassets\tindex.html\n")])])]),a("h2",{attrs:{id:"_3-動作確認"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-動作確認"}},[s._v("#")]),s._v(" 3. 動作確認")]),s._v(" "),a("ul",[a("li",[s._v("自分のパソコン内にサーバ機能を立ち上げて、動作確認をします。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn dev\n DONE  [10:04:31] Build d49ed4 finished in 351 ms! (http://localhost:8080/)\n")])])]),a("ul",[a("li",[s._v("記載されたURL("),a("a",{attrs:{href:"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:8080/"),a("OutboundLink")],1),s._v(")を開くと、Readme.mdのページが開きます。")]),s._v(" "),a("li",[s._v("markdownファイルを更新すると、ブラウザ画面もリアルタイムに反映されるので、中身を確認しながら編集できます。"),a("br"),s._v(" "),a("img",{attrs:{src:e(340),alt:"Alt text"}})])]),s._v(" "),a("h2",{attrs:{id:"_4-git-pagesで公開"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-git-pagesで公開"}},[s._v("#")]),s._v(" 4. git pagesで公開")]),s._v(" "),a("h3",{attrs:{id:"_4-1-github登録"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-github登録"}},[s._v("#")]),s._v(" 4-1. GitHub登録")]),s._v(" "),a("ul",[a("li",[s._v("GitHubのウェブサイトを開いて、「GitHubに登録する」ボタンから会員登録をします。\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://github.co.jp/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.co.jp/"),a("OutboundLink")],1)])])]),s._v(" "),a("li",[s._v("表示される内容を読みながら登録を進めましょう。")])]),s._v(" "),a("h3",{attrs:{id:"_4-2-repositoryを作成する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-repositoryを作成する"}},[s._v("#")]),s._v(" 4-2. Repositoryを作成する")]),s._v(" "),a("ul",[a("li",[s._v("新しいリポジトリを作成します。")]),s._v(" "),a("li",[s._v("好きな名前で良いのですが、公開するWEBサイトのアドレスになるので、よく考えないと大変なことになります。")])]),s._v(" "),a("h3",{attrs:{id:"_4-3-vuepressにgithub用の設定を行う"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-vuepressにgithub用の設定を行う"}},[s._v("#")]),s._v(" 4-3. VuePressにGitHub用の設定を行う")]),s._v(" "),a("ul",[a("li",[s._v("vuepressで書き出したファイルをそのままGitにアップロードすると、レイアウトが崩れます。"),a("br"),s._v(" "),a("img",{attrs:{src:e(341),alt:"Alt text"}})]),s._v(" "),a("li",[s._v("これは、CSSのパスがローカルとGitでは異なるからです。Git Pagesでは、"),a("code",[s._v("https://ドメイン名/Repository名/assets/css/スタイルシート")]),s._v("というパスになります。リポジトリ名が入ってしまうので、ローカルと異なり、CSSやJSを読み取れなくなってしまうのです。")]),s._v(" "),a("li",[s._v("ベースのファイルパスを修正するためには、"),a("code",[s._v("docs/.vuepress/config.js")]),s._v("を以下のように編集します。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    ...\n    description: 'テクノロジー & 資格 & フリー素材',\n    dest: 'dist/',\n    base: '/dxsec/',\n    ...\n")])])]),a("ul",[a("li",[s._v("baseは、リポジトリ名を入れます。")]),s._v(" "),a("li",[s._v("destは、vuepressで作成されたHTMLの書き出し先を記入します。ついでに設定しておきましょう。")]),s._v(" "),a("li",[s._v("config.jsを編集した後、改めてHTMLファイルの生成を行います。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn build\nyarn run v1.22.19\n\n DONE  Success! Generated static files in dist.\n\n✨  Done in 7.04s.\n")])])]),a("h3",{attrs:{id:"_4-4-vuepressで作成したページをuploadする"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-vuepressで作成したページをuploadする"}},[s._v("#")]),s._v(" 4-4. VuePressで作成したページをuploadする")]),s._v(" "),a("ul",[a("li",[s._v("distフォルダの中身を全て選択し、作成したリポジトリの中にアップロードするだけで完了です。それだけで、GitPagesとして公開されます。")]),s._v(" "),a("li",[s._v("なお、GitPagesは容量500MBまでという上限があるようです。")])]),s._v(" "),a("h2",{attrs:{id:"まとめ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[s._v("#")]),s._v(" まとめ")]),s._v(" "),a("ul",[a("li",[s._v("今回、以下の内容を記載しました。")])]),s._v(" "),a("p",[a("u",[s._v("1. 環境の整備")])]),s._v(" "),a("ul",[a("li",[s._v("Nodebrewインストール")]),s._v(" "),a("li",[s._v("Npmインストール")]),s._v(" "),a("li",[s._v("yarnインストール")]),s._v(" "),a("li",[s._v("VuePressインストール")])]),s._v(" "),a("p",[a("u",[s._v("2. コンテンツ作成")])]),s._v(" "),a("ul",[a("li",[s._v("README.mdを作成する")])]),s._v(" "),a("p",[a("u",[s._v("3. 動作確認")])]),s._v(" "),a("ul",[a("li",[s._v("buildして開発環境で起動する")])]),s._v(" "),a("p",[a("u",[s._v("4. GitHub Pagesでの公開")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("githubの登録を行う")])]),s._v(" "),a("li",[a("p",[s._v("repositoryを作成する")])]),s._v(" "),a("li",[a("p",[s._v("vuepressをgithub用にカスタマイズする")])]),s._v(" "),a("li",[a("p",[s._v("githubに作成したページをuploadする")])]),s._v(" "),a("li",[a("p",[s._v("ウェブサイトとして公開する場所には dist フォルダの中身を配置して、バックアップとして別のリポジトリを用意して docs フォルダの中身を配置すると、将来GitPagesから別システムに移行する際も簡単にできるようになりそうです。")])])]),s._v(" "),a("p",[s._v("以上")])])}),[],!1,null,null,null);a.default=v.exports}}]);